(function(e){function t(t){for(var a,s,i=t[0],u=t[1],l=t[2],p=0,c=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&c.push(o[s][0]),o[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);d&&d(t);while(c.length)c.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,i=1;i<r.length;i++){var u=r[i];0!==o[u]&&(a=!1)}a&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},o={"base-data/groupInfo":0},n=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=u;n.push([4,"chunk-vendors","chunk-common"]),r()})({4:function(e,t,r){e.exports=r("ce0c")},ce0c:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("cc00"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("Card",{attrs:{title:e.$t("group")}},[r("p",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.pageTitle))]),r("div",[r("base-info-form",{ref:"baseForm"}),r("Divider"),r("contract-info",{ref:"contract"}),r("Divider"),r("bank-account-info",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"bank1",attrs:{formData:e.subData,disabled:"text"===e.mode}}),"text"!==this.mode?r("Button",{staticClass:"mgTop10 mgBottom10",attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("btn_save")))]):e._e()],1)])],1)},n=[],s=(r("4160"),r("a15b"),r("b64b"),r("ac1f"),r("1276"),r("159b"),r("96cf"),r("1da1")),i=r("0965"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h6",[e._v(e._s(e.$t("group")))]),r("Form",{ref:"form",attrs:{model:e.formData,"label-width":120,rules:e.disabled?{}:e.rule,inline:"","label-position":"left"}},[r("FormItem",{attrs:{label:e.$t("GroupHeadquartersCn"),prop:"groupShortnameCn"}},[r("Poptip",{attrs:{trigger:"hover","word-wrap":"",content:e.$t("GroupHeadquartersCnWarn")}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupShortnameCn,callback:function(t){e.$set(e.formData,"groupShortnameCn",t)},expression:"formData.groupShortnameCn"}})],1)],1),r("FormItem",{attrs:{label:e.$t("groupHeadquartersnameCn"),prop:"groupHeadquartersnameCn"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupHeadquartersnameCn,callback:function(t){e.$set(e.formData,"groupHeadquartersnameCn",t)},expression:"formData.groupHeadquartersnameCn"}})],1),r("FormItem",{attrs:{label:e.$t("groupHeadquartersnameEn"),prop:"groupHeadquartersnameEn"}},[r("Poptip",{attrs:{trigger:"hover","word-wrap":"",content:e.$t("groupShortnameEnWarn")}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupHeadquartersnameEn,callback:function(t){e.$set(e.formData,"groupHeadquartersnameEn",t)},expression:"formData.groupHeadquartersnameEn"}})],1)],1),r("FormItem",{attrs:{label:e.$t("groupShortnameEn"),prop:"groupShortnameEn"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupShortnameEn,callback:function(t){e.$set(e.formData,"groupShortnameEn",t)},expression:"formData.groupShortnameEn"}})],1),r("FormItem",{attrs:{label:e.$t("groupHeadquartersnamePinyin"),prop:"groupHeadquartersnamePinyin"}},[r("Poptip",{attrs:{trigger:"hover","word-wrap":"",content:e.$t("groupHeadquartersnamePinyinWarn")}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupHeadquartersnamePinyin,callback:function(t){e.$set(e.formData,"groupHeadquartersnamePinyin",t)},expression:"formData.groupHeadquartersnamePinyin"}})],1)],1),r("FormItem",{attrs:{label:e.$t("headquartersPosition"),prop:"headquartersPositionCode"}},[r("provincial-selector",{ref:"cascader",attrs:{disabled:e.disabled},on:{"on-change":e.handleCitySelected},model:{value:e.formData.headquartersPositionCode,callback:function(t){e.$set(e.formData,"headquartersPositionCode",t)},expression:"formData.headquartersPositionCode"}})],1),r("FormItem",{attrs:{label:e.$t("groupNature"),prop:"groupNature"}},[r("Select",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupNature,callback:function(t){e.$set(e.formData,"groupNature",t)},expression:"formData.groupNature"}},e._l(e.groupProperties,(function(t){return r("Option",{key:t.code,attrs:{value:t.code}},[e._v(e._s(t.label))])})),1)],1),r("FormItem",{attrs:{label:e.$t("groupLevel"),prop:"groupLevel"}},[r("Select",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupLevel,callback:function(t){e.$set(e.formData,"groupLevel",t)},expression:"formData.groupLevel"}},e._l(e.groupLevel,(function(t){return r("Option",{key:t.code,attrs:{value:t.code}},[e._v(e._s(t.label))])})),1)],1),r("FormItem",{attrs:{label:e.$t("retailArea"),prop:"retailArea"}},[r("Select",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.retailArea,callback:function(t){e.$set(e.formData,"retailArea",t)},expression:"formData.retailArea"}},e._l(e.retailArea,(function(t){return r("Option",{key:t.code,attrs:{value:t.code}},[e._v(e._s(t.label))])})),1)],1),r("FormItem",{attrs:{label:e.$t("businessLicenseNum"),prop:"businessLicenseNum"}},[r("Poptip",{attrs:{trigger:"hover","word-wrap":"",content:e.$t("businessLicenseNumWarn")}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.businessLicenseNum,callback:function(t){e.$set(e.formData,"businessLicenseNum",t)},expression:"formData.businessLicenseNum"}})],1)],1),r("FormItem",{attrs:{label:e.$t("legalPerson"),prop:"legalPerson"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.legalPerson,callback:function(t){e.$set(e.formData,"legalPerson",t)},expression:"formData.legalPerson"}})],1),r("FormItem",{attrs:{label:e.$t("taxpayerNumber"),prop:"taxpayerNumber"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.taxpayerNumber,callback:function(t){e.$set(e.formData,"taxpayerNumber",t)},expression:"formData.taxpayerNumber"}})],1),r("FormItem",{attrs:{label:e.$t("registerAddress"),prop:"registerAddress"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.registerAddress,callback:function(t){e.$set(e.formData,"registerAddress",t)},expression:"formData.registerAddress"}})],1),r("FormItem",{attrs:{label:e.$t("bussinessAddress"),prop:"bussinessAddress"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.bussinessAddress,callback:function(t){e.$set(e.formData,"bussinessAddress",t)},expression:"formData.bussinessAddress"}})],1),r("FormItem",{attrs:{label:e.$t("groupBusinessUser"),prop:"groupBusinessUser"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupBusinessUser,callback:function(t){e.$set(e.formData,"groupBusinessUser",t)},expression:"formData.groupBusinessUser"}})],1),r("FormItem",{attrs:{label:e.$t("groupUserHonor"),prop:"groupUserHonor"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupUserHonor,callback:function(t){e.$set(e.formData,"groupUserHonor",t)},expression:"formData.groupUserHonor"}})],1),r("FormItem",{attrs:{label:e.$t("groupUserEmail"),prop:"groupUserEmail"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupUserEmail,callback:function(t){e.$set(e.formData,"groupUserEmail",t)},expression:"formData.groupUserEmail"}})],1),r("FormItem",{attrs:{label:e.$t("groupTax"),prop:"groupTax"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupTax,callback:function(t){e.$set(e.formData,"groupTax",t)},expression:"formData.groupTax"}})],1),r("FormItem",{attrs:{label:e.$t("groupWebsite"),prop:"groupWebsite"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupWebsite,callback:function(t){e.$set(e.formData,"groupWebsite",t)},expression:"formData.groupWebsite"}})],1),r("FormItem",{attrs:{label:e.$t("groupUserTel"),prop:"groupUserTel"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formData.groupUserTel,callback:function(t){e.$set(e.formData,"groupUserTel",t)},expression:"formData.groupUserTel"}})],1)],1)],1)},l=[],d=(r("d81d"),r("c28e")),p=r("7e1e"),c=r("2d1a"),m={name:"base-info-form",components:{ProvincialSelector:d["a"]},data:function(){return{isEn:"en-US"===localStorage.getItem("local"),disabled:"text"===this.$router2.getQuery().mode,formData:{groupShortnameCn:"",groupShortnameEn:"",groupHeadquartersnameCn:"",groupHeadquartersnameEn:"",groupHeadquartersnamePinyin:"",headquartersPosition:"",headquartersPositionCode:[],groupNature:"",groupLevel:"",retailArea:"",businessLicenseNum:"",legalPerson:"",taxpayerNumber:"",registerAddress:"",bussinessAddress:"",groupUserEmail:"",groupTax:"",groupWebsite:"",groupUserHonor:"",groupBusinessUser:"",groupUserTel:""},rule:{groupShortnameCn:[{required:!0,message:this.$t("noEmpty"),trigger:"blur"}],groupShortnameEn:[{required:!0,validator:Object(c["d"])("isEn",this),trigger:"blur"}],groupHeadquartersnameCn:[{required:!0,message:this.$t("noEmpty"),trigger:"blur"}],groupHeadquartersnameEn:[{required:!0,validator:Object(c["d"])("isEn",this),trigger:"blur"}],groupHeadquartersnamePinyin:[{required:!0,validator:Object(c["d"])("isEn",this),trigger:"blur"}],headquartersPositionCode:[{required:!0,type:"array",message:this.$t("noEmpty"),trigger:"change"}],groupNature:[{required:!0,message:this.$t("noEmpty"),trigger:"change"}],groupLevel:[{required:!0,message:this.$t("noEmpty"),trigger:"change"}],retailArea:[{required:!0,message:this.$t("noEmpty"),trigger:"change"}],groupUserEmail:[{type:"email",message:this.$t("errorEmail"),trigger:"blur"}]},groupPropertiesArr:[],groupLevelArr:[],retailAreaArr:[]}},computed:{groupProperties:function(){return Object(c["a"])(this.groupPropertiesArr,this.isEn)},groupLevel:function(){return Object(c["a"])(this.groupLevelArr,this.isEn)},retailArea:function(){return Object(c["a"])(this.retailAreaArr,this.isEn)}},created:function(){var e=this,t=["group_properties","group_level","retail_area"];Object(p["a"])(t.join(",")).then((function(t){200===t.code&&(e.groupLevelArr=Object.assign([],t.data.group_level),e.retailAreaArr=Object.assign([],t.data.retail_area),e.groupPropertiesArr=Object.assign([],t.data.group_properties))}))},methods:{handleCitySelected:function(e,t){var r=t.map((function(e){return e.label}));this.formData.headquartersPosition=r.join("/"),this.formData.headquartersPositionCode=e},handleSubmit:function(){return this.$refs.form.validate()}},mounted:function(){}},f=m,g=r("2877"),b=Object(g["a"])(f,u,l,!1,null,"fcfc5a74",null),h=b.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h6",{staticClass:"mgBottom10"},[e._v(e._s(e.$t("contractInfo")))]),r("Row",{attrs:{type:"flex",justify:"center"}},e._l(e.list,(function(t){return r("Col",{key:t.key,attrs:{span:"8"}},[r("Row",[r("Col",{attrs:{span:"6"}},[e._v(e._s(t.title))]),r("Col",{attrs:{span:"18"}},[e.disabled?e._e():r("up-file",{ref:t.key,refInFor:!0,attrs:{upLoadMethod:e.upLoadMethod,deleteFileMethod:e.deleteFileMethod,readToTable:!1,allowDelete:""},on:{"on-change":function(r){return e.onChange(t.key,arguments)}}},[e._v(e._s(e.$t("uploadAttachments"))+" ")]),e.edit?e._e():r("a",{attrs:{href:t.data.filePath,download:t.data.originalFilename}},[e._v(e._s(t.data.originalFilename))])],1)],1)],1)})),1)],1)},D=[],y=(r("4de4"),r("d3b7"),r("07ac"),r("2266")),$=r("3f5e"),x=r("bff6"),I={name:"contract-info",components:{UpFile:y["a"]},data:function(){return{list:[{title:this.$t("smAttachId"),key:"smAttachId",data:{filePath:"",originalFilename:""}},{title:this.$t("dpAttachId"),key:"dpAttachId",data:{filePath:"",originalFilename:""}},{title:this.$t("dpAiId"),key:"dpAiId",data:{filePath:"",originalFilename:""}}],disabled:"text"===this.$router2.getQuery().mode,edit:"input"===this.$router2.getQuery().mode,contractData:{smAttachId:"",dpAttachId:"",dpAiId:""},onceFlag:!0,upLoadMethod:function(e){return Object(x["g"])(e,"GROUP_SELF_CONTACT")},deleteFileMethod:$["a"]}},methods:{getFn:function(){var e=this;if("input"!==this.mode&&this.onceFlag){var t=Object.values(this.contractData).filter((function(e){return!!e}));t.length&&Object($["b"])(t.join(",")).then((function(t){if(200===t.code){var r=function(r){var a=e.contractData[r];t.data.forEach((function(t){var o=t.id;e.contractData[r]&&o===a&&e.list.forEach((function(a,o){a.key===r&&(t.filePath=e.$config.fsUrl+t.filePath,e.list[o].data=t)}))}))};for(var a in e.contractData)r(a);e.onceFlag=!1}}))}},onChange:function(e,t){this.contractData[e]=t[0].fileId},handleSubmit:function(){return new Promise((function(e,t){e(!0)}))}},mounted:function(){this.getFn()},watch:{contractData:{handler:function(){this.getFn()},deep:!0}}},S=I,P=Object(g["a"])(S,v,D,!1,null,"61faba40",null),w=P.exports,q={name:"GroupInfo",components:{BankAccountInfo:i["a"],BaseInfoForm:h,ContractInfo:w},computed:{pageTitle:function(){return"input"===this.mode?this.$t("addGroup"):this.$t("editGroup")}},data:function(){return{mode:this.$router2.getQuery().mode,subData:{baseBankInfoList:[]},loading:!1,submit:0,groupCode:this.$router2.getQuery().groupCode}},methods:{handleSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,o,n,s,i,u,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.baseForm.handleSubmit();case 2:return r=t.sent,t.next=5,e.$refs.contract.handleSubmit();case 5:return a=t.sent,t.next=8,e.$refs.bank1.handleSubmit();case 8:if(o=t.sent,!(r&&a&&o)){t.next=21;break}return n=e.$refs.baseForm.formData,s=e.$refs.contract.contractData,e.subData=Object.assign(e.subData,n,s,{headquartersPositionCode:n.headquartersPositionCode.join("/")}),i=n.groupHeadquartersnameCn,u=n.groupShortnameCn,l=n.taxpayerNumber,t.next=16,Object(x["b"])({groupHeadquartersnameCn:i,groupShortnameCn:u,taxpayerNumber:l});case 16:if(d=t.sent,200===d.code&&d.data.flag){t.next=20;break}return e.$Message.error(d.data.message),t.abrupt("return");case 20:e.postData();case 21:case"end":return t.stop()}}),t)})))()},postData:function(){var e=this;this.loading=!0,Object(x["a"])(this.subData).then((function(t){e.$Message.info(t.message),e.loading=!1,200===t.code&&e.$router2.go.call(e,-1)}))},checkInfo:function(){var e=this;Object(x["f"])(this.groupCode).then((function(t){if(200===t.code){var r=t.data.headquartersPositionCode;if(t.data.headquartersPositionCode=r?r.split("/"):[],e.subData=Object.assign({},t.data),"input"!==e.mode){var a=function(e,r){e.forEach((function(e){r[e]=t.data[e]}))},o=e.$refs.baseForm.formData,n=e.$refs.contract.contractData,s=Object.keys(o),i=Object.keys(n);a(s,o),a(i,n)}}}))}},created:function(){"input"!==this.mode&&this.checkInfo()}},k=q,_=Object(g["a"])(k,o,n,!1,null,"f8e7ee22",null),C=_.exports,A=r("fe07");a["a"].config.productionTip=!1,new a["a"]({i18n:A["a"],render:function(e){return e(C)}}).$mount("#app")}});