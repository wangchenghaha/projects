(function(t){function e(e){for(var o,n,i=e[0],l=e[1],p=e[2],d=0,u=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);c&&c(e);while(u.length)u.shift()();return s.push.apply(s,p||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(o=!1)}o&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},r={"store/retail/toAddMarket/storecode_market_leaderform":0},s=[];function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var p=0;p<i.length;p++)e(i[p]);var c=l;s.push([54,"chunk-vendors","chunk-common"]),a()})({"51e9":function(t,e,a){"use strict";(function(t){a("99af"),a("4de4"),a("7db0"),a("4160"),a("c975"),a("a15b"),a("d81d"),a("ac1f"),a("1276"),a("498a"),a("159b");var o=a("73f5"),r=a("0eb8"),s=a("2d1a"),n=a("7e1e"),i=a("b9b5"),l=a("e401"),p=a("35ad"),c=a("4d59");e["a"]={name:"storecode_market_leaderform",components:{AuditTableLeader:l["a"],WorkFlow:i["b"],Applicant:r["a"]},data:function(){return{title:this.$t("to-add-market"),isEn:"en-US"===localStorage.getItem("local"),query:this.$router2.getQuery(),flowsType:"vp",tabsName:"0",dicResultObj:{},flowStatusObj:{defKey:"rcm_storecode_market",taskId:"",instId:"",bizKey:""},formData:{actualOpenDate:"",lawComment:"",shopLocation:"",shopName:"",physicalCity:"",cnName:"",groupName:"",floorAndArea:"",taskComment:"",cityRetilManager:"",planOpenDate:"",shopTypeCode:"",regionalRetailManager:"",shopAddress:"",settledBrands:""},applicantData:{},ruleInline:{shopCode:[{required:!0,message:this.$t("noEmpty"),trigger:"change"}],isMultiSignOneContract:[{required:!0,message:this.$t("noEmpty"),trigger:"change"}]}}},created:function(){var e=this,a=["market_enterprise_nature","shop_belongs_to_country","shop_location","company_name","shop_properties","shop_type","brand","brand_type","jl_brand_series","yesorno","shop_level","shop_status","network_operator","sisterBrand","area_unit","floor"];Object(n["a"])(a.join(",")).then((function(t){200===t.code&&(e.dicResultObj=Object.assign({},t.data))}));var r=this.query,i=r.bizKey,l=r.historyShopCode;this.flowStatus(this.query),Object(o["l"])({sn:i}).then((function(a){if(200===a.code&&!t.isEmpty(a.data)){var o,r,n,i=a.data.baseShopInfo,l=a.data,p=l.cityRetilManager,c=l.floorAndArea,d=l.mainMarketName,u=l.openRate,f=l.regionalRetailManager,m=l.shopLocation,b=l.market,h={Stirng:["hasPosDevice","vmSeries","isSelf"],Number:["gradeTotalPoints","gradeAppointment","gradeRefundPeriod"]},y=a.data.baseShopInfo,g=y.usableArea,D=y.floor,w=y.areaUnit;c||(o=e.dicResultObj.floor.filter((function(t){return D.indexOf(t.code)>=0})).map((function(t){return t.valueEn})).join(","),r=e.dicResultObj.area_unit.find((function(t){return String(t.code)===String(w)})),o&&r&&(n="".concat(o,"/").concat(g).concat(r.valueEn))),i=Object(s["c"])(i,h),e.formData=Object.assign({},b,{floorAndArea:c||n,mainMarketName:d,openRate:u,cityRetilManager:p||"无",regionalRetailManager:f||"无",shopLocation:m},i,{shopCode:i.shopCode}),e.$refs.qua.setValue(i.marketApproveDetailList),e.applicantData=Object.assign({},a.data.applicant)}})),l&&Object(p["e"])({shopCode:l}).then((function(t){e.$refs.qua.setValue(t.data.marketApproveDetails)}))},computed:{disabled:function(){return"alreadyDone"===this.$router2.getQuery().pageFrom},taskButtonVisible:function(){return!0},workFlowStatusVisible:function(){return!!this.flowsType},taskCommentVisible:function(){return!this.disabled},dictionary:function(){var t={},e=this.dicResultObj;for(var a in e)t[a]=Object(s["a"])(e[a],this.isEn);return t},settledBrands:function(){if(!this.formData.settledBrands)return"";var t=this.formData.settledBrands.split(","),e=c["a"],a=[];return t.forEach((function(t){t=t.trim(),e.forEach((function(e){t.indexOf(e.key)>=0&&a.push(e.value)}))})),a.join(",")}},methods:{onFlowResult:function(t){var e=this,a=t.cmdType;"processStatus"!==a&&("saveTaskDraft"===a?this.$rcmMessage.show({content:"暂存成功"}):this.$rcmMessage.show({onOk:function(){e.$router2.push.call(e,"/wflow/processed")}}))},flowStatus:function(t){var e=t.defKey,a=t.taskId,o=t.instId,r=t.bizKey;this.flowStatusObj=Object.assign({},{defKey:e,taskId:a,instId:o,bizKey:r})}},mounted:function(){document.title=this.title}}}).call(this,a("2ef0"))},54:function(t,e,a){t.exports=a("5fd1")},"5fd1":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("cc00"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-container"},[a("form-header",{attrs:{title:t.title,"serial-number":t.formData.sn}}),a("Form",{ref:"form",attrs:{model:t.formData,rules:t.ruleInline,inline:"","label-position":"left","label-width":100}},[a("Card",{staticClass:"mgBottom10"},[a("h2",[t._v(" "+t._s(t.formData.brand)+" - "+t._s(t.formData.shopNature)+" - "+t._s("1"===t.formData.isSelf?t.$t("isSelf1"):t.$t("isSelf0"))+" ")])]),a("Card",{staticClass:"mgBottom10",attrs:{title:t.$t("applicantInfo")}},[a("applicant",{attrs:{applicantData:t.applicantData}})],1),a("Card",{staticClass:"mgBottom10",attrs:{title:t.$t("baseStoreInfo")}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("shopName"),prop:"shopName"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.shopName,callback:function(e){t.$set(t.formData,"shopName",e)},expression:"formData.shopName"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("Poptip",{attrs:{trigger:"hover","word-wrap":"",content:t.formData.cnName}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("mallNameCn"),prop:"cnName"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.cnName,callback:function(e){t.$set(t.formData,"cnName",e)},expression:"formData.cnName"}})],1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("group"),prop:"groupName"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.groupName,callback:function(e){t.$set(t.formData,"groupName",e)},expression:"formData.groupName"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("actualCity"),prop:"physicalCity"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.physicalCity,callback:function(e){t.$set(t.formData,"physicalCity",e)},expression:"formData.physicalCity"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("regionalRetailManager"),prop:"regionalRetailManager"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.regionalRetailManager,callback:function(e){t.$set(t.formData,"regionalRetailManager",e)},expression:"formData.regionalRetailManager"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("cityRetilManager"),prop:"cityRetilManager"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.cityRetilManager,callback:function(e){t.$set(t.formData,"cityRetilManager",e)},expression:"formData.cityRetilManager"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("openRate"),prop:"openRate"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.openRate,callback:function(e){t.$set(t.formData,"openRate",e)},expression:"formData.openRate"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("shopTypeCode"),prop:"shopTypeCode"}},[a("Select",{attrs:{disabled:""},model:{value:t.formData.shopTypeCode,callback:function(e){t.$set(t.formData,"shopTypeCode",e)},expression:"formData.shopTypeCode"}},t._l(t.dictionary.shop_type,(function(e){return a("Option",{key:e.code,attrs:{value:e.code}},[t._v(t._s(e.label))])})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("shopLocation"),prop:"shopLocation"}},[a("Select",{attrs:{disabled:""},model:{value:t.formData.shopLocation,callback:function(e){t.$set(t.formData,"shopLocation",e)},expression:"formData.shopLocation"}},t._l(t.dictionary.shop_location,(function(e){return a("Option",{key:e.code,attrs:{value:e.code}},[t._v(t._s(e.label))])})),1)],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("actualOpeningDate"),prop:"planOpenDate"}},[t.formData.actualOpenDate?a("DatePicker",{attrs:{type:"date",disabled:""},model:{value:t.formData.actualOpenDate,callback:function(e){t.$set(t.formData,"actualOpenDate",e)},expression:"formData.actualOpenDate"}}):a("DatePicker",{attrs:{type:"date",disabled:""},model:{value:t.formData.planOpenDate,callback:function(e){t.$set(t.formData,"planOpenDate",e)},expression:"formData.planOpenDate"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("floorAndArea"),prop:"floorAndArea"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.floorAndArea,callback:function(e){t.$set(t.formData,"floorAndArea",e)},expression:"formData.floorAndArea"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("Poptip",{attrs:{trigger:"hover","word-wrap":"",content:t.settledBrands}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("settledBrandsOther"),prop:"settledBrands"}},[a("Input",{attrs:{type:"text",value:t.settledBrands,disabled:""}})],1)],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticStyle:{width:"97%"},attrs:{label:t.$t("storeAddress"),prop:"shopAddress",title:t.formData.storeAddress}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.shopAddress,callback:function(e){t.$set(t.formData,"shopAddress",e)},expression:"formData.shopAddress"}})],1)],1)],1)],1),a("Card",{staticClass:"mgBottom10",attrs:{title:t.$t("qualificationInfo")}},[a("AuditTableLeader",{ref:"qua",attrs:{pageType:"read",lawComment:t.formData.lawComment}})],1),t.$router2.getQuery().historyShopCode?t._e():a("WorkFlow",{ref:"wfb",attrs:{taskButtonVisible:t.taskButtonVisible,workFlowStatusVisible:t.workFlowStatusVisible,taskCommentVisible:t.taskCommentVisible,bizKeyExisted:t.flowStatusObj.bizKey,defKey:t.flowStatusObj.defKey,instIdExisted:t.flowStatusObj.instId},on:{onFlowResult:t.onFlowResult},model:{value:t.flowStatusObj.taskId,callback:function(e){t.$set(t.flowStatusObj,"taskId",e)},expression:"flowStatusObj.taskId"}})],1)],1)},s=[],n=a("51e9"),i=n["a"],l=(a("ed4c"),a("2877")),p=Object(l["a"])(i,r,s,!1,null,"54a13cc4",null),c=p.exports,d=a("fe07");o["a"].config.productionTip=!1,new o["a"]({i18n:d["a"],render:function(t){return t(c)}}).$mount("#app")},"9dd4":function(t,e,a){},ed4c:function(t,e,a){"use strict";var o=a("9dd4"),r=a.n(o);r.a}});