(function(t){function e(e){for(var o,s,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);p&&p(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(o=!1)}o&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var o={},r={"store/retail/toAdd/storecode_legalform":0},n=[];function s(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=o,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(a,o,function(e){return t[e]}.bind(null,o));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var p=l;n.push([49,"chunk-vendors","chunk-common"]),a()})({"274c":function(t,e,a){},49:function(t,e,a){t.exports=a("51a5")},"51a5":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("cc00"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-container"},[a("form-header",{attrs:{title:t.title,"serial-number":t.formData.sn}}),a("Form",{ref:"form",attrs:{model:t.formData,rules:t.rule,inline:"","label-position":"left","label-width":100}},[a("Card",{staticClass:"mgBottom10"},[a("h2",[t._v(" "+t._s(t.formData.brand)+" - "+t._s(t.formData.shopNature)+" - "+t._s("1"===t.formData.isSelf?t.$t("isSelf1"):t.$t("isSelf0"))+" ")])]),a("RcmCard",{attrs:{title:t.$t("applicantInfo"),applicantShow:"",applicantData:t.applicantData}}),a("RcmCard",{attrs:{title:t.$t("baseStoreInfo")}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("shopName"),prop:"shopName"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.shopName,callback:function(e){t.$set(t.formData,"shopName",e)},expression:"formData.shopName"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("Poptip",{attrs:{trigger:"hover","word-wrap":"",content:t.formData.cnName}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("mallNameCn"),prop:"cnName"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.cnName,callback:function(e){t.$set(t.formData,"cnName",e)},expression:"formData.cnName"}})],1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("group"),prop:"groupName"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.groupName,callback:function(e){t.$set(t.formData,"groupName",e)},expression:"formData.groupName"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("actualCity"),prop:"physicalCity"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.physicalCity,callback:function(e){t.$set(t.formData,"physicalCity",e)},expression:"formData.physicalCity"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("regionalRetailManager"),prop:"regionalRetailManager"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.regionalRetailManager,callback:function(e){t.$set(t.formData,"regionalRetailManager",e)},expression:"formData.regionalRetailManager"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("cityRetilManager"),prop:"cityRetilManager"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.cityRetilManager,callback:function(e){t.$set(t.formData,"cityRetilManager",e)},expression:"formData.cityRetilManager"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("openRate"),prop:"openRate"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.openRate,callback:function(e){t.$set(t.formData,"openRate",e)},expression:"formData.openRate"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("shopTypeCode"),prop:"shopTypeCode"}},[a("Select",{attrs:{disabled:""},model:{value:t.formData.shopTypeCode,callback:function(e){t.$set(t.formData,"shopTypeCode",e)},expression:"formData.shopTypeCode"}},t._l(t.dictionary.shop_type,(function(e){return a("Option",{key:e.code,attrs:{value:e.code}},[t._v(t._s(e.label)+" ")])})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("shopLocation"),prop:"shopLocation"}},[a("Select",{attrs:{disabled:""},model:{value:t.formData.shopLocation,callback:function(e){t.$set(t.formData,"shopLocation",e)},expression:"formData.shopLocation"}},t._l(t.dictionary.shop_location,(function(e){return a("Option",{key:e.code,attrs:{value:e.code}},[t._v(t._s(e.label)+" ")])})),1)],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("planOpenDate"),prop:"planOpenDate"}},[a("DatePicker",{attrs:{type:"date",disabled:""},model:{value:t.formData.planOpenDate,callback:function(e){t.$set(t.formData,"planOpenDate",e)},expression:"formData.planOpenDate"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("floorAndArea"),prop:"floorAndArea"}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.floorAndArea,callback:function(e){t.$set(t.formData,"floorAndArea",e)},expression:"formData.floorAndArea"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("Poptip",{attrs:{trigger:"hover","word-wrap":"",content:t.settledBrands}},[a("FormItem",{staticClass:"width90",attrs:{label:t.$t("settledBrandsOther"),prop:"settledBrands"}},[a("Input",{attrs:{type:"text",value:t.settledBrands,disabled:""}})],1)],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticStyle:{width:"97%"},attrs:{label:t.$t("storeAddress"),prop:"shopAddress",title:t.formData.storeAddress}},[a("Input",{attrs:{type:"text",disabled:""},model:{value:t.formData.shopAddress,callback:function(e){t.$set(t.formData,"shopAddress",e)},expression:"formData.shopAddress"}})],1)],1)],1)],1)]),a("RcmCard",{attrs:{title:t.$t("mallAptitude")}},[a("Tabs",{attrs:{slot:"content",type:"card"},slot:"content",model:{value:t.tabsName,callback:function(e){t.tabsName=e},expression:"tabsName"}},t._l(t.marketList,(function(e,o){return a("TabPane",{key:e.id,attrs:{label:e.tabName,name:String(o)}},[String(o)===String(t.tabsName)?a("QuaInfoTab",{ref:"fileTabel",refInFor:!0,attrs:{item:e}}):t._e()],1)})),1)],1),a("RcmCard",{attrs:{title:t.$t("qualificationInfo")}},[a("AuditTablelegal",{ref:"qua",attrs:{slot:"content",pageType:t.disabled?"read":"input"},slot:"content"})],1),a("RcmCard",{attrs:{title:t.$t("lawComment")}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{slot:"content","label-width":0,prop:"lawComment"},slot:"content"},[a("Input",{attrs:{type:"textarea",rows:4,disabled:t.disabled},on:{"on-change":t.lawCommentChange},model:{value:t.formData.lawComment,callback:function(e){t.$set(t.formData,"lawComment",e)},expression:"formData.lawComment"}})],1)],1),a("WorkFlow",{ref:"wfb",attrs:{ignoreType:["general"],taskButtonVisible:t.taskButtonVisible,workFlowStatusVisible:t.workFlowStatusVisible,taskCommentVisible:t.taskCommentVisible,bizKeyExisted:t.flowStatusObj.bizKey,defKey:t.flowStatusObj.defKey,instIdExisted:t.flowStatusObj.instId},on:{onFlowResult:t.onFlowResult,onFlowResubmit:t.onFlowResubmit},model:{value:t.flowStatusObj.taskId,callback:function(e){t.$set(t.flowStatusObj,"taskId",e)},expression:"flowStatusObj.taskId"}})],1)],1)},n=[],s=(a("99af"),a("4de4"),a("7db0"),a("4160"),a("c975"),a("a15b"),a("d81d"),a("ac1f"),a("1276"),a("498a"),a("159b"),a("96cf"),a("1da1")),i=a("5530"),l=a("7f5a"),c=a("b9b5"),p=a("73f5"),d=a("7e1e"),m=a("2d1a"),u=a("35f4"),f=a("d928"),b=a("4d59"),h={name:"storecode_legalform",components:{RcmCard:l["a"],WorkFlow:c["b"],AuditTablelegal:f["a"],QuaInfoTab:u["a"]},data:function(){return{title:this.$t("eshop-apply"),tabsName:"0",flowStatusObj:{defKey:"rcm_storecode",taskId:"",instId:"",bizKey:""},query:this.$router2.getQuery(),formData:{lawComment:"",shopLocation:"",shopName:"",physicalCity:"",cnName:"",groupName:"",floorAndArea:"",taskComment:"",cityRetilManager:"",planOpenDate:"",shopTypeCode:"",regionalRetailManager:"",shopAddress:"",settledBrands:""},rule:{},dicResultObj:{},applicantData:{},baseShopInfo:{}}},computed:{isEn:function(){return"en-US"===localStorage.getItem("local")},dictionary:function(){var t={},e=this.dicResultObj;for(var a in e)t[a]=Object(m["a"])(e[a],this.isEn);return t},disabled:function(){return"alreadyDone"===this.$router2.getQuery().pageFrom},taskCommentVisible:function(){return!1},taskButtonVisible:function(){return!0},workFlowStatusVisible:function(){return!0},marketList:function(){var t=this.formData.baseMarketList;if(!t)return[];var e=0,a=0;return t.forEach((function(t){"1"===String(t.shopBusinessType)?(e++,t.tabName="合同主体商场"+e):(a++,t.tabName="物管商场"+a)})),t},settledBrands:function(){if(!this.formData.settledBrands)return"";var t=this.formData.settledBrands.split(","),e=b["a"],a=[];return t.forEach((function(t){t=t.trim(),e.forEach((function(e){t.indexOf(e.key)>=0&&a.push(e.value)}))})),a.join(",")}},methods:{lawCommentChange:function(){this.$refs.wfb.formData.taskComment=this.formData.lawComment},onFlowResubmit:function(t){var e=this,a=this.$refs.qua.submit();if(!this.formData.lawComment&&"rollBackTask"===t.cmdId||a.approveLevelList[4].approveLevelId&&!this.formData.lawComment)this.$Message.error(this.$t("taskCommentWarn"));else{var o={shopInfoVo:Object(i["a"])(Object(i["a"])({},this.baseShopInfo),{},{lawComment:this.formData.lawComment,marketApproveDetailList:a.marketApproveDetailList,commandId:"submit",commandType:"startandsubmit",definitionKey:"rcm_storecode"}),approveLevelListVO:{approveLevelList:a.approveLevelList}};Object(p["c"])(o).then((function(a){200===a.code?(e.$refs.wfb.startFlow(t,a.data.sn),e.formData.sn=a.data.sn):e.$Message.info(a.message)}))}},onFlowResult:function(t){var e=this,a=t.cmdType;"processStatus"!==a&&("saveTaskDraft"===a?this.$rcmMessage.show({content:"暂存成功"}):this.$rcmMessage.show({onOk:function(){e.$router2.push.call(e,"/wflow/processed")}}))},flowStatus:function(t){var e=t.defKey,a=t.taskId,o=t.instId,r=t.bizKey;this.flowStatusObj=Object.assign({},{defKey:e,taskId:a,instId:o,bizKey:r})},updateShopLngLat:function(t){var e=t.shopLng,a=t.shopLat;this.shopLngLat=e+","+a,this.formData.shopLng=e,this.formData.shopLat=a}},created:function(){this.flowStatus(this.query)},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,o,r,n,s,i,l,c,u,f,b,h,y,g,w,v,D,C,k,I;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.title=t.title,a=t.query.bizKey,o=["floor","area_unit","market_enterprise_nature","shop_belongs_to_country","shop_location","company_name","shop_properties","shop_type","brand","brand_type","jl_brand_series","yesorno","shop_level","shop_status","network_operator","sisterBrand"],e.next=5,Object(d["a"])(o.join(","));case 5:return r=e.sent,200===r.code&&(t.dicResultObj=Object.assign({},r.data)),e.next=9,Object(p["F"])({sn:a});case 9:n=e.sent,200===n.code&&(s=n.data.baseShopInfo,s.baseMarketList.forEach((function(t){delete t.baseShopInfo,delete t.id,t.baseBankInfoList.length&&t.baseBankInfoList.forEach((function(t){delete t.id}))})),t.baseShopInfo=Object.assign({},s),i=n.data,l=i.cityRetilManager,c=i.mainMarketName,u=i.openRate,f=i.regionalRetailManager,b=i.shopLocation,h=i.market,y=i.floorAndArea,g=n.data.baseShopInfo,w=g.usableArea,v=g.floor,D=g.areaUnit,C={Stirng:["hasPosDevice","vmSeries","isSelf"],Number:["gradeTotalPoints","gradeAppointment","gradeRefundPeriod"]},y||(k=t.dicResultObj.floor.filter((function(t){return v.indexOf(t.code)>=0})).map((function(t){return t.valueEn})).join(","),I=t.dicResultObj.area_unit.find((function(t){return String(t.code)===String(D)}))),s=Object(m["c"])(s,C),t.formData=Object.assign({},s,{floorAndArea:y||"".concat(k,"/").concat(w).concat(I.valueEn),mainMarketName:c,openRate:u,cityRetilManager:l||"无",regionalRetailManager:f||"无",shopLocation:b},h),t.$refs.qua.setValue(s.marketApproveDetailList),t.applicantData=Object.assign({},n.data.applicant));case 11:case"end":return e.stop()}}),e)})))()}},y=h,g=(a("98eb"),a("2877")),w=Object(g["a"])(y,r,n,!1,null,"c8f173ac",null),v=w.exports,D=a("fe07");o["a"].config.productionTip=!1,new o["a"]({i18n:D["a"],render:function(t){return t(v)}}).$mount("#app")},"98eb":function(t,e,a){"use strict";var o=a("274c"),r=a.n(o);r.a}});